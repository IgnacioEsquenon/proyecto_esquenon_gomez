<?php 

namespace App\Models;
use CodeIgniter\Model;  

class Personas_model extends Model
{
    protected $table = 'personas';
    protected $primaryKey = 'id_persona';
    protected $allowedFields =[
        'persona_apellido',
        'persona_nombre',
        'persona_telefono',
        'persona_email',
        'persona_password',
        'perfil_id',
        'persona_estado',
    ];
    protected $returnType = 'array';
    protected $useTimestamps = true;
    protected $createdField = 'persona_fecha_creacion';
    protected $updatedField = 'persona_fecha_modificacion';
    protected $validationRules = [
        'persona_apellido' => 'required|min_length[3]|max_length[50]',
        'persona_nombre' => 'required|min_length[3]|max_length[50]',
        'persona_telefono' => 'required|min_length[10]|max_length[15]',
        'persona_email' => 'required|valid_email',
        'persona_password' => 'required|min_length[8]|max_length[255]',
        'perfil_id' => 'required|integer',
        'persona_estado' => 'required|in_list[1,0]',
    ];
    
    protected $useAutoIncrement = true;
    protected $useSoftDeletes = false;
}